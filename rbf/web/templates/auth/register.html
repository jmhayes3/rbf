{% extends "base.html" %}

{% block body %}
<div class="ui middle aligned center aligned grid" style="height: 100%; background-color: #f9f9f9">
  <div class="column" style="max-width: 450px">
    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
    <div class="ui one column row">
      <div class="column">
      {% for category, message in messages %}
        {% if category == "error" %}
        <div class="ui error message">
          <i class="close icon"></i>
          <div class="header">
            {{ message }}
          </div>
        </div>
        {% else %}
        <div class="ui blue message">
          <i class="close icon"></i>
          <div class="header">
            {{ message }}
          </div>
        </div>
        {% endif %}
      {% endfor %}
      </div>
    </div>
    {% endif %}
    {% endwith %}
    <div class="ui stacked segment">
      <h2 class="ui image header">
        <img class="image" src="{{ url_for("static", filename="images/profile.svg") }}" height="144px" width="144px">
        <div class="content">
          Create an account
        </div>
        <div class="sub header">
          or <a href="/auth/login">sign in</a>
        </div>
      </h2>
      <form class="ui form" method="POST" action="/auth/register">
        {{ form.csrf_token }}
        <div class="field">
          <input type="text" name="username" tab-index="0" placeholder="Username" autofocus>
        </div>
        <div class="field">
          <input type="password" name="password" placeholder="Password">
        </div>
        <div class="field">
          <input type="password" name="confirm" placeholder="Confirm password">
        </div>
        <button class="ui fluid submit button" type="submit">Create account</button>
      </form>
    </div>
  </div>
</div>
{% endblock %}
